<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <title>GreenCREATE - Connecting Farmers & Consumers</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="./crop-disease-detector (1).html">
    <link rel="stylesheet" href="./pro.css">
    
</head>
<body>
    
    <header>
        <nav class="container">
            
            <a href="#" class="logo" >
                <img src="./WhatsApp_Image_2025-08-27_at_18.31.08_add9c125-removebg-preview.png" alt="GreenCREATE" style="width: 50px;">
                <i class=""></i> GreenCREATE</a>
                
            </a>
            
            
                
           
            <ul class="nav-links">
                <li><a href="#" onclick="showSection('home')">Home</a></li>
                <li><a href="#" onclick="showSection('information')">Information</a></li>
                <li><a href="#" onclick="showSection('marketplace')">Marketplace</a></li>
               
                <a href="./crop-disease-detector (1).html">Crop analyser</a>
                <li><a href="#" onclick="showSection('admin-dashboard')">Admin</a></li>
            </ul>
            <div class="auth-buttons">
                <a href="#" class="btn btn-secondary" onclick="showSection('login')">Login</a>
                <a href="#" class="btn btn-primary" onclick="showSection('register')">Register</a>
            </div>
        </nav>
    </header>

    <main class="container">
        <!-- Home Section -->
        <section id="home" class="section active" style="background: linear-gradient(rgba(45, 90, 39, 0.8), rgba(74, 124, 89, 0.8)), url('data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1200 600\"><rect fill=\"%23a8d5ba\" width=\"1200\" height=\"600\"/><path fill=\"%234a7c59\" d=\"M0 400c100-50 300-100 600-50s500 100 600 50v200H0z\"/></svg>
            <div class="hero">
                <h1>Connect Farmers with buyers</h1>
                
                <div class="hero-buttons">
                    <a href="#" class="btn btn-primary" onclick="showSection('register')">Join as Farmer</a>
                    <a href="#" class="btn btn-secondary" onclick="showSection('marketplace')">Browse Produce</a>
                </div>
            </div>
        </section>

        <section id="marketplace" class="section">
            <h2>Fresh Produce Marketplace</h2>
            <div class="form-group">
                <input type="text" id="search" placeholder="Search for vegetables, fruits..." onkeyup="filterProducts()">
            </div>
            <div id="products-container" class="products-grid">
                <!-- Products will be loaded here -->
                 
            </div>
        </section>

        <!-- Information Section -->
        <section id="information" class="section">
            <h2><i class="fas fa-info-circle"></i> Crop Information Center</h2>
            <p style="margin-bottom: 2rem; color: #666;">Comprehensive information about various crops to help farmers make informed decisions and buyers understand seasonal availability.</p>
            
            <div class="search-container">
                <input type="text" class="search-input" id="crop-search" placeholder="Search crops..." onkeyup="filterCrops()">
                <button class="btn btn-primary" onclick="showAllCrops()">Show All</button>
            </div>

            <div class="crop-categories">
                <div class="category-card active" onclick="filterByCategory('all')">
                    <div class="category-icon">üå±</div>
                    <h3>All Crops</h3>
                </div>
                <div class="category-card" onclick="filterByCategory('vegetables')">
                    <div class="category-icon">ü•ï</div>
                    <h3>Vegetables</h3>
                </div>
                <div class="category-card" onclick="filterByCategory('fruits')">
                    <div class="category-icon">üçé</div>
                    <h3>Fruits</h3>
                </div>
                <div class="category-card" onclick="filterByCategory('grains')">
                    <div class="category-icon">üåæ</div>
                    <h3>Grains</h3>
                </div>
                <div class="category-card" onclick="filterByCategory('herbs')">
                    <div class="category-icon">üåø</div>
                    <h3>Herbs</h3>
                </div>
            </div>

            <div id="crops-container" class="crop-grid">
                <!-- Crops will be loaded here -->
            </div>
        </section>

        

        <!-- Admin Dashboard Section -->
        <section id="admin-dashboard" class="section">
            <h2>Admin Dashboard</h2>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number">156</div>
                    <div>Active Farmers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">432</div>
                    <div>Registered Buyers</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">‚Çπ2,45,680</div>
                    <div>Platform Revenue</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number">95%</div>
                    <div>Customer Satisfaction</div>
                </div>
            </div>
            
            <h3>Platform Management</h3>
            <div class="form-grid">
                <button class="btn btn-primary" onclick="showUserManagement()">Manage Users</button>
                <button class="btn btn-primary" onclick="showOrderManagement()">Order Management</button>
                <button class="btn btn-primary" onclick="showReports()">Generate Reports</button>
                <button class="btn btn-primary" onclick="showSettings()">Platform Settings</button>
            </div>
        </section>

        <!-- Login Section -->
        <section id="login" class="section">
            <h2>Login to Your Account</h2>
            <form id="login-form" onsubmit="handleLogin(event)">
                <div class="form-group">
                    <label for="login-email">Email</label>
                    <input type="email" id="login-email" required>
                </div>
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <input type="password" id="login-password" required>
                </div>
                <div class="form-group">
                    <label for="user-type">Login as</label>
                    <select id="user-type" required>
                        <option value="">Select User Type</option>
                        <option value="farmer">Farmer</option>
                        <option value="buyer">Buyer</option>
                        <option value="admin">Admin</option>
                    </select>
                </div>
                <button type="submit" class="btn btn-primary">Login</button>
            </form>
        </section>

        <!-- Register Section -->
        <section id="register" class="section">
            <h2>Create New Account</h2>
            <form id="register-form" onsubmit="handleRegistration(event)">
                <div class="form-grid">
                    <div class="form-group">
                        <label for="reg-name">Full Name</label>
                        <input type="text" id="reg-name" required>
                    </div>
                    <div class="form-group">
                        <label for="reg-email">Email</label>
                        <input type="email" id="reg-email" required>
                    </div>
                    <div class="form-group">
                        <label for="reg-phone">Phone Number</label>
                        <input type="tel" id="reg-phone" required>
                    </div>
                    <div class="form-group">
                        <label for="reg-type">Register as</label>
                        <select id="reg-type" required onchange="toggleFarmerFields()">
                            <option value="">Select Type</option>
                            <option value="farmer">Farmer</option>
                            <option value="buyer">Buyer</option>
                        </select>
                    </div>
                </div>
                
                <div id="farmer-fields" style="display: none;">
                    <div class="form-grid">
                        <div class="form-group">
                            <label for="farm-name">Farm Name</label>
                            <input type="text" id="farm-name">
                        </div>
                        <div class="form-group">
                            <label for="farm-size">Farm Size (acres)</label>
                            <input type="number" id="farm-size" step="0.1">
                        </div>
                    </div>
                </div>
                
                <div class="form-group">
                    <label for="reg-address">Address</label>
                    <textarea id="reg-address" rows="3" required></textarea>
                </div>
                <div class="form-group">
                    <label for="reg-password">Password</label>
                    <input type="password" id="reg-password" required>
                </div>
                <button type="submit" class="btn btn-primary">Create Account</button>
            </form>
        </section>
    </main>

    <script>
        // Comprehensive crops data
        const cropsData = {
            vegetables: [
                {
                    name: "Tomato",
                    icon: "üçÖ",
                    category: "vegetables",
                    season: "Kharif & Rabi",
                    sowingTime: "June-July (Kharif), Nov-Dec (Rabi)",
                    harvestTime: "3-4 months",
                    soilType: "Well-drained loamy soil",
                    climate: "Warm, humid climate",
                    waterRequirement: "600-800mm annually",
                    marketPrice: "‚Çπ20-40 per kg",
                    nutritionalValue: "Rich in Vitamin C, Lycopene, Potassium",
                    diseases: ["Late blight", "Early blight", "Bacterial wilt"],
                    tips: [
                        "Use hybrid varieties for better yield",
                        "Maintain proper spacing between plants",
                        "Regular pruning improves fruit quality",
                        "Use drip irrigation for water efficiency"
                    ]
                },
                {
                    name: "Potato",
                    icon: "ü•î",
                    category: "vegetables",
                    season: "Rabi",
                    sowingTime: "October-December",
                    harvestTime: "90-120 days",
                    soilType: "Sandy loam with good drainage",
                    climate: "Cool, dry climate",
                    waterRequirement: "500-700mm",
                    marketPrice: "‚Çπ15-25 per kg",
                    nutritionalValue: "Carbohydrates, Vitamin C, Potassium",
                    diseases: ["Late blight", "Common scab", "Potato virus"],
                    tips: [
                        "Plant certified seed potatoes",
                        "Hill soil around plants as they grow",
                        "Harvest when leaves turn yellow",
                        "Store in cool, dark place"
                    ]
                },
                {
                    name: "Onion",
                    icon: "üßÖ",
                    category: "vegetables",
                    season: "Rabi",
                    sowingTime: "November-January",
                    harvestTime: "4-5 months",
                    soilType: "Well-drained sandy loam",
                    climate: "Cool, dry season for bulbing",
                    waterRequirement: "350-550mm",
                    marketPrice: "‚Çπ20-50 per kg",
                    nutritionalValue: "Vitamin C, Fiber, Antioxidants",
                    diseases: ["Purple blotch", "Stemphylium blight", "Thrips"],
                    tips: [
                        "Use short-day varieties for better bulbing",
                        "Avoid over-watering during maturity",
                        "Harvest when tops fall over",
                        "Cure bulbs in shade before storage"
                    ]
                },
                {
                    name: "Cabbage",
                    icon: "ü•¨",
                    category: "vegetables",
                    season: "Rabi",
                    sowingTime: "September-November",
                    harvestTime: "80-120 days",
                    soilType: "Heavy loam with good organic matter",
                    climate: "Cool, moist climate",
                    waterRequirement: "400-500mm",
                    marketPrice: "‚Çπ12-20 per kg",
                    nutritionalValue: "Vitamin C, K, Fiber",
                    diseases: ["Club root", "Black rot", "Aphids"],
                    tips: [
                        "Transplant seedlings at 4-6 weeks",
                        "Maintain consistent moisture",
                        "Use row covers for pest protection",
                        "Harvest when heads feel solid"
                    ]
                }
            ],
            fruits: [
                {
                    name: "Mango",
                    icon: "ü•≠",
                    category: "fruits",
                    season: "Perennial (harvest Apr-Jun)",
                    sowingTime: "June-August (planting)",
                    harvestTime: "3-5 years from planting",
                    soilType: "Deep, well-drained alluvial soil",
                    climate: "Tropical and subtropical",
                    waterRequirement: "1250-1500mm annually",
                    marketPrice: "‚Çπ40-100 per kg",
                    nutritionalValue: "Vitamin A, C, Fiber, Antioxidants",
                    diseases: ["Anthracnose", "Powdery mildew", "Bacterial canker"],
                    tips: [
                        "Choose grafted varieties for better yield",
                        "Prune regularly to maintain tree shape",
                        "Protect fruits from fruit flies",
                        "Harvest at 75-80% maturity"
                    ]
                },
                {
                    name: "Banana",
                    icon: "üçå",
                    category: "fruits",
                    season: "Year-round",
                    sowingTime: "March-May, September-October",
                    harvestTime: "12-15 months",
                    soilType: "Rich, well-drained loamy soil",
                    climate: "Tropical, humid climate",
                    waterRequirement: "1800-2000mm annually",
                    marketPrice: "‚Çπ20-40 per kg",
                    nutritionalValue: "Potassium, Vitamin B6, Vitamin C",
                    diseases: ["Panama disease", "Black sigatoka", "Bunchy top virus"],
                    tips: [
                        "Plant tissue culture plantlets for disease-free crop",
                        "Maintain proper drainage to prevent root rot",
                        "Remove suckers regularly except replacement ones",
                        "Harvest when fingers are plump but still green"
                    ]
                },
                {
                    name: "Apple",
                    icon: "üçé",
                    category: "fruits",
                    season: "Temperate (harvest Aug-Oct)",
                    sowingTime: "December-February (planting)",
                    harvestTime: "3-4 years from planting",
                    soilType: "Well-drained sandy loam",
                    climate: "Temperate, cool winters",
                    waterRequirement: "1000-1200mm annually",
                    marketPrice: "‚Çπ80-150 per kg",
                    nutritionalValue: "Fiber, Vitamin C, Antioxidants",
                    diseases: ["Apple scab", "Fire blight", "Codling moth"],
                    tips: [
                        "Choose varieties suited to local climate",
                        "Thin fruits for better size and quality",
                        "Regular pruning improves air circulation",
                        "Use pheromone traps for pest control"
                    ]
                },
                {
                    name: "Orange",
                    icon: "üçä",
                    category: "fruits",
                    season: "Winter harvest (Dec-Mar)",
                    sowingTime: "June-August (planting)",
                    harvestTime: "3-4 years from planting",
                    soilType: "Well-drained sandy loam",
                    climate: "Subtropical climate",
                    waterRequirement: "1200-1500mm annually",
                    marketPrice: "‚Çπ30-60 per kg",
                    nutritionalValue: "Vitamin C, Folate, Potassium",
                    diseases: ["Citrus canker", "Greening disease", "Scale insects"],
                    tips: [
                        "Plant grafted saplings for better quality",
                        "Mulch around trees to retain moisture",
                        "Regular inspection for pest and disease",
                        "Harvest when fruits are fully colored"
                    ]
                }
            ],
            grains: [
                {
                    name: "Rice",
                    icon: "üåæ",
                    category: "grains",
                    season: "Kharif & Rabi",
                    sowingTime: "Jun-Jul (Kharif), Nov-Dec (Rabi)",
                    harvestTime: "110-140 days",
                    soilType: "Clay to clay loam",
                    climate: "Tropical, high humidity",
                    waterRequirement: "1200-1500mm",
                    marketPrice: "‚Çπ25-35 per kg",
                    nutritionalValue: "Carbohydrates, Protein, B-vitamins",
                    diseases: ["Blast", "Bacterial leaf blight", "Sheath rot"],
                    tips: [
                        "Use certified seeds for better yield",
                        "Maintain water level at 2-5 cm",
                        "Apply fertilizers in split doses",
                        "Harvest when 80% grains turn golden"
                    ]
                },
                {
                    name: "Wheat",
                    icon: "üåæ",
                    category: "grains",
                    season: "Rabi",
                    sowingTime: "November-December",
                    harvestTime: "110-130 days",
                    soilType: "Well-drained loamy soil",
                    climate: "Cool, dry climate",
                    waterRequirement: "450-650mm",
                    marketPrice: "‚Çπ22-28 per kg",
                    nutritionalValue: "Carbohydrates, Protein, Fiber",
                    diseases: ["Rust diseases", "Smut", "Aphids"],
                    tips: [
                        "Sow at optimum time for maximum yield",
                        "Use recommended seed rate (100kg/hectare)",
                        "Apply nitrogen in split doses",
                        "Harvest when moisture content is 20-25%"
                    ]
                },
                {
                    name: "Corn (Maize)",
                    icon: "üåΩ",
                    category: "grains",
                    season: "Kharif",
                    sowingTime: "June-July",
                    harvestTime: "90-120 days",
                    soilType: "Well-drained fertile loam",
                    climate: "Warm, humid climate",
                    waterRequirement: "500-800mm",
                    marketPrice: "‚Çπ18-25 per kg",
                    nutritionalValue: "Carbohydrates, Fiber, Vitamin B6",
                    diseases: ["Corn borer", "Leaf blight", "Rust"],
                    tips: [
                        "Plant hybrid varieties for better yield",
                        "Maintain proper plant spacing",
                        "Side-dress with nitrogen at knee height",
                        "Harvest when husks are brown and dry"
                    ]
                },
                {
                    name: "Barley",
                    icon: "üåæ",
                    category: "grains",
                    season: "Rabi",
                    sowingTime: "October-November",
                    harvestTime: "110-120 days",
                    soilType: "Well-drained sandy loam",
                    climate: "Cool, dry climate",
                    waterRequirement: "450-500mm",
                    marketPrice: "‚Çπ20-25 per kg",
                    nutritionalValue: "Fiber, Protein, Minerals",
                    diseases: ["Powdery mildew", "Leaf rust", "Aphids"],
                    tips: [
                        "Use disease-resistant varieties",
                        "Avoid water logging",
                        "Apply balanced fertilization",
                        "Harvest when grains are hard and dry"
                    ]
                }
            ],
            herbs: [
                {
                    name: "Basil (Tulsi)",
                    icon: "üåø",
                    category: "herbs",
                    season: "Summer & Monsoon",
                    sowingTime: "March-April, July-August",
                    harvestTime: "60-90 days",
                    soilType: "Well-drained sandy loam",
                    climate: "Warm, humid climate",
                    waterRequirement: "600-700mm annually",
                    marketPrice: "‚Çπ40-80 per kg",
                    nutritionalValue: "Essential oils, Antioxidants, Vitamin K",
                    diseases: ["Fusarium wilt", "Bacterial leaf spot", "Aphids"],
                    tips: [
                        "Pinch flower buds to encourage leaf growth",
                        "Harvest in morning for best oil content",
                        "Use organic fertilizers for better quality",
                        "Can be grown year-round in greenhouse"
                    ]
                },
                {
                    name: "Coriander",
                    icon: "üåø",
                    category: "herbs",
                    season: "Rabi",
                    sowingTime: "October-November",
                    harvestTime: "40-50 days (leaves), 90-100 days (seeds)",
                    soilType: "Well-drained loamy soil",
                    climate: "Cool, dry climate",
                    waterRequirement: "400-500mm",
                    marketPrice: "‚Çπ30-60 per kg (leaves), ‚Çπ80-120 per kg (seeds)",
                    nutritionalValue: "Vitamin C, K, Antioxidants",
                    diseases: ["Powdery mildew", "Aphids", "Stem rot"],
                    tips: [
                        "Successive sowing every 2-3 weeks for continuous harvest",
                        "Harvest leaves before flowering",
                        "Allow some plants to go to seed for next crop",
                        "Store dried seeds in airtight containers"
                    ]
                },
                {
                    name: "Mint",
                    icon: "üåø",
                    category: "herbs",
                    season: "Year-round",
                    sowingTime: "March-April, September-October",
                    harvestTime: "60-90 days",
                    soilType: "Moist, fertile soil",
                    climate: "Temperate to tropical",
                    waterRequirement: "800-1000mm annually",
                    marketPrice: "‚Çπ50-100 per kg",
                    nutritionalValue: "Menthol, Vitamin A, C, Antioxidants",
                    diseases: ["Rust", "Verticillium wilt", "Aphids"],
                    tips: [
                        "Grows well in partial shade",
                        "Propagate through runners or stem cuttings",
                        "Regular harvesting promotes new growth",
                        "Contains spread as it can be invasive"
                    ]
                },
                {
                    name: "Turmeric",
                    icon: "üåø",
                    category: "herbs",
                    season: "Kharif",
                    sowingTime: "May-June",
                    harvestTime: "8-10 months",
                    soilType: "Well-drained sandy loam",
                    climate: "Tropical, high humidity",
                    waterRequirement: "1000-1500mm annually",
                    marketPrice: "‚Çπ80-150 per kg (fresh), ‚Çπ200-300 per kg (dried)",
                    nutritionalValue: "Curcumin, Antioxidants, Anti-inflammatory compounds",
                    diseases: ["Rhizome rot", "Leaf spot", "Scale insects"],
                    tips: [
                        "Use healthy rhizomes for planting",
                        "Apply organic mulch to retain moisture",
                        "Harvest when leaves turn yellow",
                        "Proper curing and drying increases market value"
                    ]
                }
            ]
        };

        // Sample data structure stored in memory
        const appData = {
            users: [
                {
                    id: 1,
                    name: "Rajesh Kumar",
                    email: "rajesh@farm.com",
                    type: "farmer",
                    farmName: "Green Valley Farm",
                    location: "Punjab"
                },
                {
                    id: 2,
                    name: "Priya Sharma",
                    email: "priya@buyer.com",
                    type: "buyer",
                    location: "Delhi"
                }
            ],
            products: [
                {
                    id: 1,
                    name: "Fresh Tomatoes",
                    category: "vegetables",
                    price: 45.00,
                    quantity: 100,
                    farmerId: 1,
                    farmerName: "Rajesh Kumar",
                    description: "Organically grown red tomatoes",
                    location: "Punjab"
                },
                {
                    id: 2,
                    name: "Basmati Rice",
                    category: "grains",
                    price: 120.00,
                    quantity: 500,
                    farmerId: 1,
                    farmerName: "Rajesh Kumar",
                    description: "Premium quality basmati rice",
                    location: "Punjab"
                },
                {
                    id: 3,
                    name: "Green Spinach",
                    category: "vegetables",
                    price: 35.00,
                    quantity: 50,
                    farmerId: 1,
                    farmerName: "Rajesh Kumar",
                    description: "Fresh leafy spinach",
                    location: "Punjab"
                },
                {
                    id: 4,
                    name: "Fresh Apples",
                    category: "fruits",
                    price: 180.00,
                    quantity: 75,
                    farmerId: 1,
                    farmerName: "Rajesh Kumar",
                    description: "Crisp red apples from hill station",
                    location: "Punjab"
                }
            ],
            orders: [
                {
                    id: 1,
                    buyerId: 2,
                    productId: 1,
                    quantity: 5,
                    totalAmount: 225.00,
                    status: "delivered",
                    date: "2024-08-20"
                }
            ],
            currentUser: null
        };

        let currentCropFilter = 'all';

        // Navigation functions
        function showSection(sectionId) {
            // Hide all sections
            const sections = document.querySelectorAll('.section');
            sections.forEach(section => section.classList.remove('active'));
            
            // Show selected section
            document.getElementById(sectionId).classList.add('active');
            
            // Load section-specific data
            if (sectionId === 'marketplace') {
                loadProducts();
            } else if (sectionId === 'buyer-dashboard') {
                loadOrders();
            } else if (sectionId === 'information') {
                loadCrops();
            }
        }

        // Crop Information Functions
        function loadCrops() {
            const container = document.getElementById('crops-container');
            container.innerHTML = '';
            
            let allCrops = [];
            Object.values(cropsData).forEach(category => {
                allCrops = allCrops.concat(category);
            });
            
            const filteredCrops = currentCropFilter === 'all' 
                ? allCrops 
                : cropsData[currentCropFilter] || [];
            
            filteredCrops.forEach(crop => {
                const cropCard = createCropCard(crop);
                container.appendChild(cropCard);
            });
        }

        function createCropCard(crop) {
            const card = document.createElement('div');
            card.className = 'crop-card';
            card.setAttribute('data-crop-name', crop.name.toLowerCase());
            card.setAttribute('data-crop-category', crop.category);
            
            card.innerHTML = `
                <div class="crop-header">
                    <div class="crop-icon">${crop.icon}</div>
                    <h3>${crop.name}</h3>
                </div>
                <div class="crop-content">
                    <div class="info-grid">
                        <div class="info-item">
                            <strong>Season</strong>
                            ${crop.season}
                        </div>
                        <div class="info-item">
                            <strong>Harvest Time</strong>
                            ${crop.harvestTime}
                        </div>
                        <div class="info-item">
                            <strong>Market Price</strong>
                            ${crop.marketPrice}
                        </div>
                        <div class="info-item">
                            <strong>Water Requirement</strong>
                            ${crop.waterRequirement}
                        </div>
                    </div>
                    
                    <div class="crop-info">
                        <h4><i class="fas fa-calendar-alt"></i> Growing Details</h4>
                        <p><strong>Sowing Time:</strong> ${crop.sowingTime}</p>
                        <p><strong>Soil Type:</strong> ${crop.soilType}</p>
                        <p><strong>Climate:</strong> ${crop.climate}</p>
                    </div>
                    
                    <div class="crop-info">
                        <h4><i class="fas fa-heartbeat"></i> Nutritional Value</h4>
                        <p>${crop.nutritionalValue}</p>
                    </div>
                    
                    <div class="crop-info">
                        <h4><i class="fas fa-bug"></i> Common Diseases</h4>
                        <p>${crop.diseases.join(', ')}</p>
                    </div>
                    
                    <div class="crop-info">
                        <h4><i class="fas fa-lightbulb"></i> Growing Tips</h4>
                        <ul class="tips-list">
                            ${crop.tips.map(tip => `<li>${tip}</li>`).join('')}
                        </ul>
                    </div>
                </div>
            `;
            
            return card;
        }

        function filterByCategory(category) {
            currentCropFilter = category;
            
            // Update active category card
            document.querySelectorAll('.category-card').forEach(card => {
                card.classList.remove('active');
            });
            event.target.closest('.category-card').classList.add('active');
            
            // Clear search
            document.getElementById('crop-search').value = '';
            
            // Reload crops
            loadCrops();
        }

        function filterCrops() {
            const searchTerm = document.getElementById('crop-search').value.toLowerCase();
            const cropCards = document.querySelectorAll('.crop-card');
            
            cropCards.forEach(card => {
                const cropName = card.getAttribute('data-crop-name');
                const isVisible = cropName.includes(searchTerm);
                card.style.display = isVisible ? 'block' : 'none';
            });
        }

        function showAllCrops() {
            currentCropFilter = 'all';
            document.getElementById('crop-search').value = '';
            
            // Update active category
            document.querySelectorAll('.category-card').forEach(card => {
                card.classList.remove('active');
            });
            document.querySelector('.category-card').classList.add('active');
            
            loadCrops();
        }

        // Product management
        function addProduct(event) {
            event.preventDefault();
            
            const product = {
                id: appData.products.length + 1,
                name: document.getElementById('product-name').value,
                category: document.getElementById('product-category').value,
                price: parseFloat(document.getElementById('product-price').value),
                quantity: parseInt(document.getElementById('product-quantity').value),
                farmerId: 1, // Mock farmer ID
                farmerName: "Current Farmer",
                description: document.getElementById('product-description').value,
                location: "Your Location"
            };
            
            appData.products.push(product);
            
            // Show success message
            showMessage('Product added successfully!', 'success');
            
            // Reset form
            document.getElementById('product-form').reset();
            
            // Refresh products if marketplace is active
            if (document.getElementById('marketplace').classList.contains('active')) {
                loadProducts();
            }
        }

        function loadProducts() {
            const container = document.getElementById('products-container');
            container.innerHTML = '';
            
            appData.products.forEach(product => {
                const productCard = createProductCard(product);
                container.appendChild(productCard);
            });
        }

        function createProductCard(product) {
            const card = document.createElement('div');
            card.className = 'product-card';
            card.innerHTML = `
                <div class="product-image">
                    ${getProductEmoji(product.category)} ${product.name}
                </div>
                <div class="product-info">
                    <h3>${product.name}</h3>
                    <div class="product-price">‚Çπ${product.price}/kg</div>
                    <div class="product-farmer">By: ${product.farmerName}</div>
                    <p>${product.description}</p>
                    <p><strong>Available:</strong> ${product.quantity} kg</p>
                    <p><strong>Location:</strong> ${product.location}</p>
                    <button class="btn btn-primary" onclick="orderProduct(${product.id})">Order Now</button>
                </div>
            `;
            return card;
        }

        function getProductEmoji(category) {
            const emojis = {
                vegetables: 'ü•ï',
                fruits: 'üçé',
                grains: 'üåæ',
                herbs: 'üåø'
            };
            return emojis[category] || 'üå±';
        }

        function filterProducts() {
            const searchTerm = document.getElementById('search').value.toLowerCase();
            const productCards = document.querySelectorAll('.product-card');
            
            productCards.forEach(card => {
                const text = card.textContent.toLowerCase();
                card.style.display = text.includes(searchTerm) ? 'block' : 'none';
            });
        }

        function orderProduct(productId) {
            const product = appData.products.find(p => p.id === productId);
            if (product) {
                const quantity = prompt(`How many kg of ${product.name} would you like to order?`, '1');
                if (quantity && quantity > 0) {
                    const order = {
                        id: appData.orders.length + 1,
                        buyerId: 2, // Mock buyer ID
                        productId: productId,
                        quantity: parseInt(quantity),
                        totalAmount: product.price * parseInt(quantity),
                        status: 'pending',
                        date: new Date().toISOString().split('T')[0]
                    };
                    
                    appData.orders.push(order);
                    showMessage(`Order placed successfully! Total: ‚Çπ${order.totalAmount}`, 'success');
                }
            }
        }

        // Order management
        function loadOrders() {
            const container = document.getElementById('orders-container');
            container.innerHTML = '';
            
            appData.orders.forEach(order => {
                const product = appData.products.find(p => p.id === order.productId);
                const orderCard = document.createElement('div');
                orderCard.className = 'product-card';
                orderCard.innerHTML = `
                    <div class="product-info">
                        <h3>Order #${order.id}</h3>
                        <p><strong>Product:</strong> ${product ? product.name : 'Unknown'}</p>
                        <p><strong>Quantity:</strong> ${order.quantity} kg</p>
                        <p><strong>Total:</strong> ‚Çπ${order.totalAmount}</p>
                        <p><strong>Status:</strong> <span style="color: ${getStatusColor(order.status)}">${order.status}</span></p>
                        <p><strong>Date:</strong> ${order.date}</p>
                    </div>
                `;
                container.appendChild(orderCard);
            });
        }

        function getStatusColor(status) {
            const colors = {
                pending: '#f39c12',
                confirmed: '#3498db',
                shipped: '#e67e22',
                delivered: '#27ae60',
                cancelled: '#e74c3c'
            };
            return colors[status] || '#333';
        }

        // Authentication
        function handleLogin(event) {
            event.preventDefault();
            const email = document.getElementById('login-email').value;
            const userType = document.getElementById('user-type').value;
            
            // Mock authentication
            appData.currentUser = { email, type: userType };
            
            showMessage('Login successful!', 'success');
            
            // Redirect based on user type
            setTimeout(() => {
                if (userType === 'farmer') {
                    showSection('farmer-dashboard');
                } else if (userType === 'buyer') {
                    showSection('buyer-dashboard');
                } else if (userType === 'admin') {
                    showSection('admin-dashboard');
                }
            }, 1000);
        }

        function handleRegistration(event) {
            event.preventDefault();
            
            const userData = {
                id: appData.users.length + 1,
                name: document.getElementById('reg-name').value,
                email: document.getElementById('reg-email').value,
                phone: document.getElementById('reg-phone').value,
                type: document.getElementById('reg-type').value,
                address: document.getElementById('reg-address').value
            };
            
            if (userData.type === 'farmer') {
                userData.farmName = document.getElementById('farm-name').value;
                userData.farmSize = document.getElementById('farm-size').value;
            }
            
            appData.users.push(userData);
            showMessage('Registration successful! Please login.', 'success');
            
            setTimeout(() => {
                showSection('login');
            }, 1500);
        }

        function toggleFarmerFields() {
            const userType = document.getElementById('reg-type').value;
            const farmerFields = document.getElementById('farmer-fields');
            farmerFields.style.display = userType === 'farmer' ? 'block' : 'none';
        }

        // Admin functions
        function showUserManagement() {
            showMessage(`Total Users: ${appData.users.length}`, 'info');
        }

        function showOrderManagement() {
            showMessage(`Total Orders: ${appData.orders.length}`, 'info');
        }

        function showReports() {
            const totalRevenue = appData.orders.reduce((sum, order) => sum + order.totalAmount, 0);
            showMessage(`Platform Revenue: ‚Çπ${totalRevenue.toFixed(2)}`, 'info');
        }

        function showSettings() {
            showMessage('Platform settings panel would open here', 'info');
        }

        // Utility functions
        function showMessage(message, type = 'info') {
            const messageDiv = document.createElement('div');
            messageDiv.className = type === 'success' ? 'success-message' : 
                                  type === 'error' ? 'error-message' : 'success-message';
            messageDiv.textContent = message;
            
            // Insert at the beginning of the active section
            const activeSection = document.querySelector('.section.active');
            activeSection.insertBefore(messageDiv, activeSection.firstChild);
            
            // Remove message after 3 seconds
            setTimeout(() => {
                if (messageDiv.parentNode) {
                    messageDiv.parentNode.removeChild(messageDiv);
                }
            }, 3000);
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', function() {
            loadProducts();
            loadCrops();
            
            // Auto-show information section for demo
            setTimeout(() => {
                if (document.getElementById('home').classList.contains('active')) {
                    showSection('information');
                }
            }, 3000);
        });
    </script>
</body>
</html>